<script setup lang="ts">
import SectionWrapper from '@/components/SectionWrapper.vue';
import { ref } from 'vue';
import { useResolveAssetPath } from '@/utils/resolveAssetPath';

type ScheduleEvent = {
	id?: string;
	name: string;
	detail: string;
	bullets?: string[];
	images?: string[];
};

type ScheduleGroup = {
	month: string;
	events: ScheduleEvent[];
};

const groups = ref<ScheduleGroup[]>([
	{
		month: 'October-November',
		events: [
			{
				id: 'session',
				name: 'è¦‹å­¦ä¼š',
				detail: '2024å¹´åº¦ã®æ—¥ç¨‹ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™',
				bullets: [
					'10/28(Tue) 18:15 @DR-8(14-218) â€” ç ”ç©¶å®¤è¦‹å­¦ãƒ»æ‡‡è«‡ä¼š(é€”ä¸­å‚åŠ OK)',
					'11/4(Tue) 18:15 @DR-8(14-218) â€” ç ”ç©¶å®¤è¦‹å­¦ãƒ»æ‡‡è«‡ä¼š(é€”ä¸­å‚åŠ OK)',
				],
			},
		],
	},
	{
		month: 'January',
		events: [
			{
				name: 'Final',
				detail:
					'æœŸæœ«è©¦é¨“é ‘å¼µã‚Šã¤ã¤ã€å’è«–ãƒ»ä¿®è«–ç™ºè¡¨ã‚‚ã“ã®æ™‚æœŸãªã®ã§æ˜¯éè¦‹ã«è¡Œãã¾ã—ã‚‡ã†ï¼',
			},
		],
	},
	{
		month: 'February',
		events: [
			{
				name: 'Training',
				detail:
					'ç ”ç©¶å®¤ã®æ´»å‹•ãŒã„ã‚ˆã„ã‚ˆå§‹ã¾ã‚Šã¾ã™ï¼æ–°äººç ”ä¿®ã§ã¯ã¿ã‚“ãªã®ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦å¿…è¦ãªçŸ¥è­˜ã‚’æ•™ãˆã¾ã™ï¼',
			},
		],
	},
	{
		month: 'March',
		events: [
			{
				name: 'Lintaraction',
				detail: 'ä»Šäº•ç ”ç©¶å®¤ã®OBä¼šã‚’è¡Œã„ã¾ã™ã€‚ä¾‹å¹´æ—¥å‰ã®HUBã§è¡Œã£ã¦ã„ã¾ã™ï¼',
				images: ['/images/Lintaraction.jpg'],
			},
		],
	},
	{
		month: 'April',
		events: [{ name: 'New SemesterğŸŒ¸', detail: 'æ–°å­¦æœŸé–‹å§‹ã§ã™ï¼' }],
	},
	{
		month: 'May',
		events: [
			{
				name: 'Softball Championship',
				detail:
					'ç†å·¥å­¦éƒ¨ã€å…¨ç ”ç©¶å®¤å¯¾æŠ—ã®ã‚½ãƒ•ãƒˆãƒœãƒ¼ãƒ«å¤§ä¼šã«å‡ºã¾ã™ï¼æ¥½ã—ãã‚„ã‚Šã¾ã—ã‚‡ã†ï¼',
				images: ['/images/softball2025.PNG'],
			},
		],
	},
	{
		month: 'June',
		events: [
			{
				name: 'Reading Articles',
				detail:
					'7æœˆçµ‚ã‚ã‚Šã®æƒ…å ±å·¥å­¦ç§‘å†…ã®è¼ªè¬›ç™ºè¡¨ã«å‘ã‘ã¦è«–æ–‡ã‚’é¸ã‚“ã§ç™ºè¡¨ç·´ç¿’ã‚’è¡Œã„ã¾ã™ã€‚è‹±èªã®è«–æ–‡ã«ã‚‚æ…£ã‚Œã¡ã‚ƒã„ã¾ã—ã‚‡ã†ï¼',
			},
		],
	},
	{
		month: 'July',
		events: [
			{
				name: 'Presentation',
				detail:
					'è¼ªè¬›ç™ºè¡¨ã‚’ä»–ã®ç ”ç©¶å®¤ã®å…ˆç”Ÿã®å‰ã§ã‚„ã‚Šã¾ã™ã€‚å¿…ä¿®å˜ä½ãªã®ã§ã—ã£ã‹ã‚Šæº–å‚™ã—ã¾ã—ã‚‡ã†ï¼',
			},
		],
	},
	{
		month: 'August',
		events: [
			{
				name: 'Bachelor Thesis Startup',
				detail: '8æœˆã§ç ”ç©¶ã®é€²æ—ã‚’å‡ºã—ã¾ã—ã‚‡ã†ï¼',
			},
		],
	},
	{
		month: 'September',
		events: [
			{
				name: 'Summer Camp',
				detail: 'å¤ä¼‘ã¿ã«åˆå®¿ã‚’ã‚„ã‚Šã¾ã™ï¼ã—ã£ã‹ã‚ŠéŠã³ã¾ã—ã‚‡ã†ï¼',
				images: ['/images/summer_camp2024.jpg', '/images/summer_camp2023.jpeg'],
			},
		],
	},
	{
		month: 'October',
		events: [
			{
				name: 'Demo Presentation',
				detail: 'å¤ä¼‘ã¿ã®ç ”ç©¶æˆæœã‚’ç ”ç©¶å®¤å†…ã§ãƒ‡ãƒ¢ç™ºè¡¨ã—ã¾ã™ï¼',
			},
		],
	},
	{
		month: 'November',
		events: [
			{
				name: 'Bachelor Thesis Report',
				detail: 'æœ¬æ ¼çš„ã«å’è«–ãƒ†ãƒ¼ãƒã«å–ã‚Šçµ„ã¿ã¾ã—ã‚‡ã†ï¼',
			},
		],
	},
	{
		month: 'December',
		events: [
			{
				name: 'Keio Techno-Mall',
				detail: 'æ…¶å¿œãƒ†ã‚¯ãƒãƒ¢ãƒ¼ãƒ«ã«å‡ºå±•ã—ã¾ã™ï¼æ˜¯éãŸãã•ã‚“è³ªå•ã—ã¦ãã ã•ã„ï¼',
				images: ['/images/techno-mall.jpg'],
			},
		],
	},
	{
		month: 'January',
		events: [
			{
				name: 'Bachelor Thesis Presentation',
				detail: 'å’è«–ç™ºè¡¨ã§ã™ï¼ãŠç–²ã‚Œã£ã™ï¼',
			},
		],
	},
]);
</script>

<template>
	<SectionWrapper id="schedule" title="SCHEDULE" borderClass="border-slate-800">
		<div class="space-y-10">
			<div
				v-for="(group, gIdx) in groups"
				:key="`${group.month}-${gIdx}`"
				class="grid md:grid-cols-12 gap-4 md:gap-8"
			>
				<div class="md:col-span-3">
					<p class="text-xl font-semibold">{{ group.month }}</p>
				</div>

				<div class="md:col-span-9 space-y-6">
					<div
						v-for="(ev, idx) in group.events"
						:key="`${group.month}-${idx}`"
						class="rounded-xl ring-1 ring-slate-200 p-5 bg-white"
					>
						<p :id="ev.id || undefined" class="text-lg font-semibold mb-2">
							{{ ev.name }}
						</p>
						<p class="mb-3">{{ ev.detail }}</p>

						<ul v-if="ev.bullets?.length" class="list-disc pl-6 space-y-1">
							<li v-for="(b, i) in ev.bullets" :key="i">{{ b }}</li>
						</ul>

						<div v-if="ev.images?.length" class="mt-3 flex gap-3 flex-wrap">
							<img
								v-for="(src, i) in ev.images"
								:key="i"
								:src="useResolveAssetPath(src)"
								:alt="`${ev.name} image ${i + 1}`"
								class="h-48 rounded-lg object-cover"
								loading="lazy"
								decoding="async"
							/>
						</div>
					</div>
				</div>
			</div>
		</div>
	</SectionWrapper>
</template>
